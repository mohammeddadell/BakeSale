{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport propTypes from 'prop-types';\nimport { priceDisplay } from \"../util\";\nimport { useState, useEffect } from 'react';\nimport ajax from \"./ajax\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function DealDetail(_ref) {\n  var initialDealData = _ref.initialDealData,\n      onBack = _ref.onBack;\n\n  var _useState = useState(initialDealData),\n      _useState2 = _slicedToArray(_useState, 2),\n      deal = _useState2[0],\n      setDeal = _useState2[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var detailsJason;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(ajax.fetchDealDetails(deal.key));\n\n            case 2:\n              detailsJason = _context.sent;\n              setDeal(detailsJason);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  return _jsxs(View, {\n    style: styles.deal,\n    children: [_jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        onBack(null);\n      },\n      children: _jsx(Text, {\n        style: styles.backLink,\n        children: \"Back\"\n      })\n    }), _jsx(Image, {\n      style: styles.image,\n      source: {\n        uri: deal.media[0]\n      }\n    }), _jsx(View, {\n      children: _jsx(Text, {\n        style: styles.title,\n        children: deal.title\n      })\n    }), _jsxs(ScrollView, {\n      style: styles.detail,\n      children: [_jsxs(View, {\n        style: styles.footer,\n        children: [_jsxs(View, {\n          style: styles.info,\n          children: [_jsx(Text, {\n            style: styles.price,\n            children: priceDisplay(deal.price)\n          }), _jsx(Text, {\n            style: styles.cause,\n            children: deal.cause.name\n          })]\n        }), deal.user && _jsxs(View, {\n          style: styles.user,\n          children: [_jsx(Image, {\n            source: {\n              uri: deal.user.avatar\n            },\n            style: styles.avatar\n          }), _jsx(Text, {\n            children: deal.user.name\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.description,\n        children: _jsx(Text, {\n          children: deal.description\n        })\n      })]\n    })]\n  });\n}\nDealDetail.propTypes = {\n  initialDealData: propTypes.object.isRequired,\n  onBack: propTypes.func\n};\nvar styles = StyleSheet.create({\n  deal: {\n    width: Dimensions.get('window').width - 25,\n    marginBottom: 20\n  },\n  backLink: {\n    marginBottom: 5,\n    color: '#22f',\n    marginLeft: 10\n  },\n  image: {\n    width: \"100%\",\n    height: 150,\n    backgroundColor: '#ccc'\n  },\n  title: {\n    fontSize: 16,\n    padding: 10,\n    fontWeight: 'bold',\n    backgroundColor: 'rgba(237, 149, 45, 0.4)',\n    width: Dimensions.get('window').width - 25\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    marginTop: 15\n  },\n  info: {\n    alignItems: 'center'\n  },\n  user: {\n    alignItems: 'center'\n  },\n  cause: {\n    marginVertical: 10\n  },\n  price: {\n    fontWeight: 'bold'\n  },\n  avatar: {\n    width: 60,\n    height: 60,\n    borderRadius: 30\n  },\n  description: {\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'dotted',\n    margin: 10,\n    padding: 10\n  }\n});","map":{"version":3,"names":["propTypes","priceDisplay","useState","useEffect","ajax","DealDetail","initialDealData","onBack","deal","setDeal","fetchDealDetails","key","detailsJason","styles","backLink","image","uri","media","title","detail","footer","info","price","cause","name","user","avatar","description","object","isRequired","func","StyleSheet","create","width","Dimensions","get","marginBottom","color","marginLeft","height","backgroundColor","fontSize","padding","fontWeight","flexDirection","justifyContent","alignItems","marginTop","marginVertical","borderRadius","borderColor","borderWidth","borderStyle","margin"],"sources":["D:/React/Bakesale/src/components/DealDetail.js"],"sourcesContent":["import { StyleSheet, Image, View, Text, Dimensions, TouchableOpacity, ScrollView } from 'react-native';\r\nimport propTypes from 'prop-types';\r\nimport { priceDisplay } from '../util';\r\nimport { useState, useEffect } from 'react';\r\nimport ajax from './ajax';\r\n\r\nexport default function DealDetail ({initialDealData, onBack}) {\r\n  const [deal, setDeal] = useState(initialDealData);\r\n  useEffect(()=> {\r\n    (async() => {\r\n      const detailsJason = await ajax.fetchDealDetails(deal.key);\r\n      setDeal(detailsJason);\r\n    })()\r\n  },[]);\r\n    return (\r\n        <View style={styles.deal}>\r\n          <TouchableOpacity onPress={()=> {onBack(null)}}>\r\n            <Text style={styles.backLink}>Back</Text>\r\n          </TouchableOpacity>\r\n            <Image style={styles.image} source={{uri: deal.media[0]}}/>\r\n            <View>\r\n          <Text style={styles.title}>{deal.title}</Text>\r\n        </View>\r\n        <ScrollView style={styles.detail}>\r\n            <View style={styles.footer}>\r\n            <View style={styles.info}>\r\n              <Text style={styles.price}>{priceDisplay(deal.price)}</Text>\r\n              <Text style={styles.cause}>{deal.cause.name}</Text>\r\n            </View>\r\n            {deal.user && (\r\n              <View style={styles.user}>\r\n                <Image\r\n                  source={{ uri: deal.user.avatar }}\r\n                  style={styles.avatar}\r\n                />\r\n                <Text>{deal.user.name}</Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n            <View style={styles.description}>\r\n              <Text>{deal.description}</Text>\r\n            </View>\r\n            </ScrollView>\r\n        </View>\r\n    )\r\n}\r\n\r\nDealDetail.propTypes = {\r\n  initialDealData: propTypes.object.isRequired,\r\n  onBack: propTypes.func\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  deal: {\r\n    width: Dimensions.get('window').width - 25,\r\n    marginBottom: 20,\r\n  },\r\n  backLink: {\r\n    marginBottom: 5,\r\n    color: '#22f',\r\n    marginLeft: 10,\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    height: 150,\r\n    backgroundColor: '#ccc',\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    padding: 10,\r\n    fontWeight: 'bold',\r\n    backgroundColor: 'rgba(237, 149, 45, 0.4)',\r\n    width: Dimensions.get('window').width - 25,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n  },\r\n  info: {\r\n    alignItems: 'center',\r\n  },\r\n  user: {\r\n    alignItems: 'center',\r\n  },\r\n  cause: {\r\n    marginVertical: 10,\r\n  },\r\n  price: {\r\n    fontWeight: 'bold',\r\n  },\r\n  avatar: {\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n  },\r\n  description: {\r\n    borderColor: '#ddd',\r\n    borderWidth: 1,\r\n    borderStyle: 'dotted',\r\n    margin: 10,\r\n    padding: 10,\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}